{% extends "base.html" %}

{% block title %}{{ news.title }}{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-9">
        <!-- Título -->
        <h1 class="display-5 fw-bold mb-3">{{ news.title }}</h1>
        
        <!-- Meta Info -->
        <div class="text-muted mb-3 border-bottom pb-3">
            <span class="me-3"><i class="bi bi-tags-fill"></i> <strong>Categoría:</strong> {{ news.category }}</span>
            <span class="me-3"><i class="bi bi-person-fill"></i> <strong>Autor:</strong> {{ news.author or 'Desconocido' }}</span>
            <span><i class="bi bi-calendar-event-fill"></i> <strong>Publicado:</strong> {{ news.date_posted.strftime('%d de %B de %Y') }}</span>
        </div>
        
        <!-- Imagen Principal -->
        {% if news.image_filename %}
            <img src="{{ url_for('uploaded_file', filename=news.image_filename) }}" class="img-fluid rounded shadow-sm my-4" alt="{{ news.title }}">
        {% endif %}

        <!-- Contenido de la noticia -->
        <div class="news-content fs-5">
            <!-- ! CORREGIDO: Se eliminó el filtro 'nl2br' que causaba el error -->
            <p>{{ news.content | safe }}</p>
        </div>

        <hr class="my-5">

        <div class="text-center">
            <a href="{{ url_for('index') }}" class="btn btn-dark btn-lg">
                <i class="bi bi-arrow-left"></i> Volver al Inicio
            </a>
        </div>
    </div>
</div>

<style>
/* Este CSS se asegura de que los saltos de línea se respeten */
.news-content p {
    white-space: pre-wrap; /* Mantiene saltos de línea y espacios */
    line-height: 1.7;
}
</style>
{% endblock %}
